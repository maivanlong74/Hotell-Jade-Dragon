@model Jade_Dragon.Models.hoadon
@{
    ViewBag.Title = "HoaDon";
    Layout = "~/Views/Shared/DatPhong_HoaDon.cshtml";
}
<link href="~/Style/css/html/hoadon.css" rel="stylesheet" />

<style>

    .home_body .Error {
        background: rgba(0,0,0,0.5);
        width: 955px;
        height: 110px;
        border: 2px solid black;
        margin-top: 140px;
        margin-left: 13px;
    }

</style>

<div class="home">
    <div class="home_body">
        <div class="search--map">
            <form action="" method="post" class="search">
                <div class="row">
                    <div class="tieude">
                        <p>Tìm khách sạn</p>
                    </div> <br>
                    <div class="search--search">
                        <div class="search__container--item">
                            <div class="mucluc">
                                <span>Điểm đến</span>
                            </div>
                            <div class="khuvuc">
                                <select name="" id="">
                                    @foreach (var kv in ViewBag.ListKhuVuc)
                                    {
                                        <option value="">@kv.TenKhuVuc</option>
                                    }
                                </select>
                            </div>
                        </div> <br>
                        <div class="search__container--item">
                            <div class="mucluc">
                                <span>Ngày nhận phòng</span>
                            </div>
                            <input type="date" placeholder="DD-MM-YYYY" class="ngay" />
                        </div> <br>
                        <div class="search__container--item">
                            <div class="mucluc">
                                <span>Ngày trả phòng</span>
                            </div>
                            <input type="date" placeholder="DD-MM-YYYY" class="ngay" />
                        </div> <br>
                        <div class="search__container--item">
                            <div class="mucluc">
                                <span>Loại hình phòng</span>
                            </div>
                            <div class="tuoi">
                                <select name="" id="">
                                    <option>Đơn</option>
                                    <option>Đôi</option>
                                </select>
                            </div>
                        </div> <br>
                        <div class="search__container--item">
                            <div class="mucluc">
                                <span>Thuộc phòng</span>
                            </div>
                            <div class="tuoi">
                                <select name="" id="">
                                    <option>VIP</option>
                                    <option>Thường</option>
                                </select>
                            </div>
                        </div>
                        <div class="search__container--btn">
                            <a href="#">Tìm kiếm</a>
                            <span></span>
                            <span></span>
                            <span></span>
                        </div>
                    </div>
                </div>
            </form>
            @if (ViewBag.Error != "DaCoLoi")
            {
                <div class="map">
                    <div class="address">
                        <div class="tieude">
                            <p>Khach san @Model.khachsan.TenKhachSan</p>
                        </div>
                        <div class="map--a">
                            <img src="~/Style/img/map.jpg" />
                            <div class="diachi">
                                <a href="">Xem địa chỉ</a>
                            </div>
                        </div>
                    </div>
                </div>
            }
            </div>

        @if (ViewBag.Error == "DaCoLoi")
        {
            <div class="Error">
                <h2>@ViewBag.Message</h2>
                <h2>@ViewBag.Message2</h2>
            </div>
        }
        else
        {
            <div class="info">
                <div class="background">
                    <div class="hoadon">
                        <div class="ThongBao">
                            <i>@ViewBag.Message</i>
                        </div>
                        <div class="diachi">
                            <p>sdt: @Model.khachsan.SoDienThoai</p>
                            <a href="">Khách sạn @Model.khachsan.TenKhachSan | Địa chỉ @Model.khachsan.DiaChi</a>
                        </div>
                        <div class="name">
                            <p>Hóa đơn thanh toán</p>
                        </div>
                        <div class="hoadon_ngay">
                            <div class="ngay">
                                <span>Ngày: @ViewBag.now</span>
                            </div>
                            <div class="mahoadon">
                                <span>Mã Hóa Đơn: @Model.MaHoaDon</span>
                            </div>
                        </div>
                        <hr>

                        @if (Model.DatCoc == 0)
                        {
                            <div class="hoadon--ct">
                                <div class="hoadon1">
                                    <p>Họ và tên: @Model.HoTen</p>
                                    <p>CMND/CCCD: @Model.CMND</p>
                                    <p>Điện thoại: @Model.SoDienThoai</p>

                                </div>
                                <div class="hoadon2">
                                    <div style="display: flex;">
                                        <p>Số đêm: @ViewBag.sodem</p>
                                        <p style="margin-left: 50px;">Số phòng: @Model.SoLuongPhong</p>
                                    </div>
                                    <p>
                                        Danh sách phòng
                                        <select style="background: none; border: none; color: white;">
                                            @foreach (var dem in ViewBag.ListPhong)
                                            {
                                                <option value="" style="background-color: black;">
                                                    @dem.phong.TenPhong
                                                </option>
                                            }
                                        </select>
                                    </p>
                                    <p>Ngày đến: @ViewBag.ngayden</p>
                                    <p>Ngày đi: @ViewBag.ngaydi</p>
                                    <p>Thanh toán: @Model.TongTien VND</p>
                                </div>
                            </div>
                        }
                        else
                        {
                            <div class="hoadon--ct">
                                <div class="hoadon1">
                                    <p>Họ và tên: @Model.HoTen</p>
                                    <p>CMND/CCCD: @Model.CMND</p>
                                    <p>Điện thoại: @Model.SoDienThoai</p>
                                    <p>Tiền đã cọc: @Model.DatCoc VND</p>

                                </div>
                                <div class="hoadon2">
                                    <div style="display: flex;">
                                        <p>Số đêm: @ViewBag.sodem</p>
                                        <p style="margin-left: 50px;">Số phòng: @Model.SoLuongPhong</p>
                                    </div>
                                    <p>
                                        Danh sách phòng
                                        <select style="background: none; border: none; color: white;">
                                            @foreach (var dem in ViewBag.ListPhong)
                                            {
                                                <option value="" style="background-color: black;">
                                                    @dem.phong.TenPhong
                                                </option>
                                            }
                                        </select>
                                    </p>
                                    <p>Ngày đến: @ViewBag.ngayden</p>
                                    <p>Ngày đi: @ViewBag.ngaydi</p>
                                    <p>Số tiền còn thiếu: @Model.TongTien VND</p>
                                </div>
                            </div>
                        }

                    </div>
                </div>
            </div>
        }

    </div>
</div>

@if (ViewBag.Error != "DaCoLoi")
{
    <div class="body">
        <div class="tieude">
            <h1>Một số khách sạn quanh đây</h1>
        </div>
        <div class="list--ks">
            @foreach (var dem in ViewBag.listks)
            {
                <div class="khachsan">
                    <div class="anh">
                        <img src="~/UpLoad_Img/KhachSan/@dem.AnhKs" alt="">
                    </div>
                    <div class="mota">
                        <a href="" class="name">Khách sạn @dem.TenKhachSan</a> <br>
                        <i>Trạng thái: Đang hoạt động</i> <br>
                        <a href="">Địa chỉ: @dem.DiaChi</a> <br>
                        <p>@dem.Gia VND</p>
                    </div>
                    <div class="datmua">
                        <button>Đặt mua</button>
                    </div>
                </div>
            }

        </div>
    </div>
}
