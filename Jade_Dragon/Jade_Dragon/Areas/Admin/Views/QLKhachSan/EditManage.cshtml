@model Jade_Dragon.Models.khachsan

@{
    ViewBag.Title = "EditManage";
    Layout = "~/Areas/Admin/Views/Shared/LayoutManage.cshtml";
}

<link href="~/Areas/Admin/Public/css/Map/Css_MuiTen.css" rel="stylesheet" />
<style>
    .body #muiten_map2 {
        display: none;
    }
</style>
<div class="home">
    <div class="body" id="body">
        <h1 style="color: wheat; font-weight: 700; margin-left: 140px; padding-top: 40px;">
            Khách sạn @Session["TenKhachSan"]
        </h1>
        <div class="Content" style="margin-top: 80px;">

            @using (Html.BeginForm("EditManage",
                        "QLKhachSan",
                        FormMethod.Post,
                        new { enctype = "multipart/form-data" }))
            {
                @Html.AntiForgeryToken()

                if (Model.AnhKs == null)
                {
                    <div class="Avt" style="margin-top: 0px;">
                        <div class="khuvuc">
                            <header class="UpFile">Chưa có ảnh !!!</header>
                        </div>
                    </div>
                }
                else if (Model.AnhKs != null)
                {
                    <div style="display: grid;" class="xoa">
                        <img class="Avt" src="~/UpLoad_Img/KhachSan/@Model.AnhKs" style="margin-top: 0px;" />
                        <a href="@Url.Action("XoaAnhManage", "QLKhachSan", new {ks = Model.MaKhachSan})" class="button-xoa">Xóa ảnh</a>
                    </div>
                }

        <div class="Info">
            <div class="one">
                @Html.ValidationSummary(true, "", new { @class = "text-danger" })
                @Html.HiddenFor(model => model.MaKhachSan)
            </div>
            <div class="tenkh one">
                <label for="">Avt: </label>
                <input type="file" id="uploadhinh" name="uploadhinh" accept="image/*"
                       style=" color: aliceblue;" />
            </div>
            <div style="display:flex">
                <div class="one">
                    <div class="label">
                        <label for="">Tên Khách sạn: </label>
                    </div>
                    @Html.EditorFor(model => model.TenKhachSan, new { htmlAttributes = new { @class = "form-control" } })
                    @Html.ValidationMessageFor(model => model.TenKhachSan, "", new { @class = "text-danger" })
                </div>
                <div class="one">
                    <div class="label">
                        <label for="">Số điện thoại: </label>
                    </div>
                    @Html.EditorFor(model => model.SoDienThoai, new { htmlAttributes = new { @class = "form-control" } })
                    @Html.ValidationMessageFor(model => model.SoDienThoai, "", new { @class = "text-danger" })
                </div>
                <div class="one">
                    <div class="label">
                        <label>Trạng thái khách sạn</label>
                    </div>
                    @Html.EditorFor(model => model.TrangThaiKs)
                    @Html.ValidationMessageFor(model => model.TrangThaiKs, "", new { @class = "text-danger" })
                </div>
            </div>
            <div style="display:flex;">
                <div class="one">
                    <div class="label">
                        <label for="">Gmail: </label>
                    </div>
                    @Html.EditorFor(model => model.Gmail, new { htmlAttributes = new { @class = "form-control" } })
                    @Html.ValidationMessageFor(model => model.Gmail, "", new { @class = "text-danger" })
                </div>
                <div class="one">
                    <div class="label">
                        <label for="">Địa chỉ: </label>
                    </div>
                    @Html.EditorFor(model => model.DiaChi, new { htmlAttributes = new { @class = "form-control", @id = "DiaChi" } })
                    @Html.ValidationMessageFor(model => model.DiaChi, "", new { @class = "text-danger" })
                </div>
            </div>
            <div style="display:flex;">
                <div class="one">
                    <div class="label">
                        <label for="">Giá: </label>
                    </div>
                    @Html.EditorFor(model => model.Gia, new { htmlAttributes = new { @class = "form-control" } })
                    @Html.ValidationMessageFor(model => model.Gia, "", new { @class = "text-danger" })
                </div>
                <div class="one">
                    <div class="label">
                        <label for="">Khu vực: </label>
                    </div>
                    <input type="text" id="KhuVuc" value="@Model.khuvuc.TenKhuVuc" name="TenKhuVuc" readonly required>`;
                </div>
            </div>
            <div class="one">
                <input type="submit" class="save two" value="Save">
            </div>
            <a href="@Url.Action("PhongManage", "PhongManage", new { MaKS = HttpUtility.UrlEncode(Model.MaKhachSan.ToString()), TenKS = HttpUtility.UrlEncode(Model.TenKhachSan) })" class="two three">
                Chi tiết phòng
            </a>
            <div class="one" id="result">
                <input type="hidden" value="@Model.KinhDo" name="KinhDo" readonly required>
                <input type="hidden" value="@Model.ViDo" name="ViDo" readonly required>
            </div>
        </div>
            }
            <div>
                <a href="@Url.Action("DeleteManage", "QLKhachSan",  new { id = Model.MaKhachSan })" class="out two" style=" margin-left: 385px; margin-top: -20px; ">
                    Xóa khách sạn
                </a>

            </div>
        </div>
        <div class="muiten_map" id="muiten_map1">
            <button type="button" id="MuiTen" class="MuiTen move">
                <img src="~/Areas/Admin/Public/img/muiten.jpg" />
            </button> <br />
            <i>Bản đồ</i>
        </div>

        <div class="muiten_map" id="muiten_map2">
            <button type="button" id="MuiTen_Top" class="MuiTen move">
                <img src="~/Areas/Admin/Public/img/muitenn.jpg" />
            </button> <br />
            <i>Khách sạn</i>
        </div>
    </div>
    <div id="map" class="map">
        <div class="Search-Search">
            <input type="text" id="search-input" placeholder="Tìm kiếm địa điểm">
            <button id="search-button">Tìm kiếm</button>
        </div>
    </div>
</div>
<script src="~/Areas/Admin/Public/js/ChucNang.js"></script>
<script>
    var hotels = [
        {
            maks: '@Model.MaKhachSan',
            name: "@Model.TenKhachSan",
            address: "@Model.DiaChi",
            phone: '@Model.SoDienThoai',
            gmail: '@Model.Gmail',
            moeny: '@Model.Gia',
            coordinates: [@Model.KinhDo, @Model.ViDo]
        }
    ];
</script>
<script src="~/Areas/Admin/Public/js/Map/Map_Edit_Ks.js"></script>
<script>
    var map = initMap(hotels);
</script>

